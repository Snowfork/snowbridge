[profile.default]
solc_version = "0.8.33"
optimizer = true
optimizer_runs = 200
via_ir = false
test = 'test'
script = 'scripts'
fs_permissions = [
    { access = "read-write", path = "test/data" },
    { access = "read", path = "./" },
]
memory_limit = 1073741824
gas_limit = 8000000000

ignored_error_codes = [
    # DeployLocal.sol is never deployed
    5574,
    # tstore
    2394,
]

no_match_test = "testRegenerate*"

# Production profile: via_ir enabled for deployment contracts
[profile.production]
via_ir = true
optimizer_runs = 20000

# Integration profile: for running fork tests (compile with lower optimization)
# Usage: FOUNDRY_PROFILE=integration forge test --match-contract ForkUpgrade
[profile.integration]
test = 'integration'

[fmt]
number_underscore = "thousands"
line_length = 99
