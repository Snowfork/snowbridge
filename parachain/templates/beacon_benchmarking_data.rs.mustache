// Generated, do not edit!
// See README.md for instructions to generate
use frame_support::traits::Get;
use hex_literal::hex;
use snowbridge_beacon_primitives::{
    BeaconHeader, ExecutionPayloadHeaderCapella, FinalizedHeaderUpdate, HeaderUpdate, InitialSync, PublicKey,
    SyncAggregate, SyncCommittee, SyncCommitteePeriodUpdate,
};
use sp_core::U256;
use sp_std::vec;

pub fn initial_sync<SyncCommitteeSize: Get<u32>, ProofSize: Get<u32>>(
    ) -> InitialSync<SyncCommitteeSize, ProofSize> {
    let time_now = 1675679352; //2023.2.6

    return InitialSync{
        header: BeaconHeader{
            slot: {{InitialSync.Header.Slot}},
            proposer_index: {{InitialSync.Header.ProposerIndex}},
            parent_root: hex!("{{InitialSync.Header.ParentRoot}}").into(),
            state_root: hex!("{{InitialSync.Header.StateRoot}}").into(),
            body_root: hex!("{{InitialSync.Header.BodyRoot}}").into(),
        },
        current_sync_committee: SyncCommittee{
            pubkeys: vec![
            {{#InitialSync.CurrentSyncCommittee.Pubkeys}}
                PublicKey(hex!("{{.}}").into()),
            {{/InitialSync.CurrentSyncCommittee.Pubkeys}}
            ].try_into().expect("too many pubkeys"),
            aggregate_pubkey: PublicKey(hex!("{{InitialSync.CurrentSyncCommittee.AggregatePubkey}}").into())
        },
        current_sync_committee_branch: vec![
            {{#InitialSync.CurrentSyncCommitteeBranch}}
                hex!("{{.}}").into(),
            {{/InitialSync.CurrentSyncCommitteeBranch}}
        ].try_into().expect("too many branch proof items"),
        validators_root: hex!("{{InitialSync.ValidatorsRoot}}").into(),
        import_time: time_now + 97200, // now + 27 hour sync committee period
    };
}

pub fn sync_committee_update<
    SignatureSize: Get<u32>,
    ProofSize: Get<u32>,
    SyncCommitteeSize: Get<u32>,
>() -> SyncCommitteePeriodUpdate<SignatureSize, ProofSize, SyncCommitteeSize> {
    return SyncCommitteePeriodUpdate {
        attested_header: BeaconHeader {
            slot: {{SyncCommitteeUpdate.AttestedHeader.Slot}},
            proposer_index: {{SyncCommitteeUpdate.AttestedHeader.ProposerIndex}},
            parent_root: hex!("{{SyncCommitteeUpdate.AttestedHeader.ParentRoot}}").into(),
            state_root: hex!("{{SyncCommitteeUpdate.AttestedHeader.StateRoot}}").into(),
            body_root: hex!("{{SyncCommitteeUpdate.AttestedHeader.BodyRoot}}").into(),
        },
        next_sync_committee: SyncCommittee {
            pubkeys: vec![
            {{#SyncCommitteeUpdate.NextSyncCommittee.Pubkeys}}
                PublicKey(hex!("{{.}}").into()),
            {{/SyncCommitteeUpdate.NextSyncCommittee.Pubkeys}}
            ].try_into().expect("too many pubkeys"),
            aggregate_pubkey: PublicKey(hex!("{{SyncCommitteeUpdate.NextSyncCommittee.AggregatePubkey}}").into())
        },
        next_sync_committee_branch: vec![
        {{#SyncCommitteeUpdate.NextSyncCommitteeBranch}}
            hex!("{{.}}").into(),
        {{/SyncCommitteeUpdate.NextSyncCommitteeBranch}}
        ].try_into().expect("too many branch proof items"),
        finalized_header: BeaconHeader{
            slot: {{SyncCommitteeUpdate.FinalizedHeader.Slot}},
            proposer_index: {{SyncCommitteeUpdate.FinalizedHeader.ProposerIndex}},
            parent_root: hex!("{{SyncCommitteeUpdate.FinalizedHeader.ParentRoot}}").into(),
            state_root: hex!("{{SyncCommitteeUpdate.FinalizedHeader.StateRoot}}").into(),
            body_root: hex!("{{SyncCommitteeUpdate.FinalizedHeader.BodyRoot}}").into(),
        },
        finality_branch: vec![
        {{#SyncCommitteeUpdate.FinalityBranch}}
            hex!("{{.}}").into(),
        {{/SyncCommitteeUpdate.FinalityBranch}}
        ].try_into().expect("too many branch proof items"),
        sync_aggregate: SyncAggregate{
            sync_committee_bits: hex!("{{SyncCommitteeUpdate.SyncAggregate.SyncCommitteeBits}}").to_vec().try_into().expect("too many sync committee bits"),
            sync_committee_signature: hex!("{{SyncCommitteeUpdate.SyncAggregate.SyncCommitteeSignature}}").to_vec().try_into().expect("signature too long"),
        },
        sync_committee_period: {{SyncCommitteeUpdate.SyncCommitteePeriod}},
        signature_slot: {{SyncCommitteeUpdate.SignatureSlot}},
        block_roots_root: hex!("{{SyncCommitteeUpdate.BlockRootsRoot}}").into(),
        block_roots_branch: vec![
        {{#SyncCommitteeUpdate.BlockRootBranch}}
            hex!("{{.}}").into(),
        {{/SyncCommitteeUpdate.BlockRootBranch}}
        ].try_into().expect("too many branch proof items"),
    };
}

pub fn finalized_header_update<
    SignatureSize: Get<u32>,
    ProofSize: Get<u32>,
    SyncCommitteeSize: Get<u32>,
>() -> FinalizedHeaderUpdate<SignatureSize, ProofSize, SyncCommitteeSize> {
    return FinalizedHeaderUpdate{
        attested_header: BeaconHeader {
            slot: {{FinalizedHeaderUpdate.AttestedHeader.Slot}},
            proposer_index: {{FinalizedHeaderUpdate.AttestedHeader.ProposerIndex}},
            parent_root: hex!("{{FinalizedHeaderUpdate.AttestedHeader.ParentRoot}}").into(),
            state_root: hex!("{{FinalizedHeaderUpdate.AttestedHeader.StateRoot}}").into(),
            body_root: hex!("{{FinalizedHeaderUpdate.AttestedHeader.BodyRoot}}").into(),
        },
        finalized_header: BeaconHeader{
            slot: {{FinalizedHeaderUpdate.FinalizedHeader.Slot}},
            proposer_index: {{FinalizedHeaderUpdate.FinalizedHeader.ProposerIndex}},
            parent_root: hex!("{{FinalizedHeaderUpdate.FinalizedHeader.ParentRoot}}").into(),
            state_root: hex!("{{FinalizedHeaderUpdate.FinalizedHeader.StateRoot}}").into(),
            body_root: hex!("{{FinalizedHeaderUpdate.FinalizedHeader.BodyRoot}}").into(),
        },
        finality_branch: vec![
        {{#FinalizedHeaderUpdate.FinalityBranch}}
            hex!("{{.}}").into(),
        {{/FinalizedHeaderUpdate.FinalityBranch}}
        ].try_into().expect("too many branch proof items"),
        sync_aggregate: SyncAggregate{
            sync_committee_bits: hex!("{{FinalizedHeaderUpdate.SyncAggregate.SyncCommitteeBits}}").to_vec().try_into().expect("too many sync committee bits"),
            sync_committee_signature: hex!("{{FinalizedHeaderUpdate.SyncAggregate.SyncCommitteeSignature}}").to_vec().try_into().expect("signature too long"),
        },
        signature_slot: {{FinalizedHeaderUpdate.SignatureSlot}},
        block_roots_root: hex!("{{FinalizedHeaderUpdate.BlockRootsRoot}}").into(),
        block_roots_branch: vec![
        {{#FinalizedHeaderUpdate.BlockRootBranch}}
            hex!("{{.}}").into(),
        {{/FinalizedHeaderUpdate.BlockRootBranch}}
        ].try_into().expect("too many branch proof items")
    };
}

pub fn header_update<
    FeeRecipientSize: Get<u32>,
    LogsBloomSize: Get<u32>,
    ExtraDataSize: Get<u32>,
    SignatureSize: Get<u32>,
    ProofSize: Get<u32>,
    SyncCommitteeSize: Get<u32>,
>() -> HeaderUpdate<
    FeeRecipientSize,
    LogsBloomSize,
    ExtraDataSize,
    SignatureSize,
    ProofSize,
    SyncCommitteeSize,
> {
    return HeaderUpdate{
        beacon_header: BeaconHeader{
            slot: {{HeaderUpdate.BeaconHeader.Slot}},
            proposer_index: {{HeaderUpdate.BeaconHeader.ProposerIndex}},
            parent_root: hex!("{{HeaderUpdate.BeaconHeader.ParentRoot}}").into(),
            state_root: hex!("{{HeaderUpdate.BeaconHeader.StateRoot}}").into(),
            body_root: hex!("{{HeaderUpdate.BeaconHeader.BodyRoot}}").into(),
        },
        execution_header: ExecutionPayloadHeaderCapella{
            parent_hash: hex!("{{HeaderUpdate.ExecutionHeader.ParentHash}}").into(),
            fee_recipient: hex!("{{HeaderUpdate.ExecutionHeader.FeeRecipient}}").to_vec().try_into().expect("fee recipient too long"),
            state_root: hex!("{{HeaderUpdate.ExecutionHeader.StateRoot}}").into(),
            receipts_root: hex!("{{HeaderUpdate.ExecutionHeader.ReceiptsRoot}}").into(),
            logs_bloom: hex!("{{HeaderUpdate.ExecutionHeader.LogsBloom}}").to_vec().try_into().expect("logs bloom too long"),
            prev_randao: hex!("{{HeaderUpdate.ExecutionHeader.PrevRandao}}").into(),
            block_number: {{HeaderUpdate.ExecutionHeader.BlockNumber}},
            gas_limit: {{HeaderUpdate.ExecutionHeader.GasLimit}},
            gas_used: {{HeaderUpdate.ExecutionHeader.GasUsed}},
            timestamp: {{HeaderUpdate.ExecutionHeader.Timestamp}},
            extra_data: hex!("{{HeaderUpdate.ExecutionHeader.ExtraData}}").to_vec().try_into().expect("extra data too long"),
            base_fee_per_gas: U256::from({{HeaderUpdate.ExecutionHeader.BaseFeePerGas}} as u64),
            block_hash: hex!("{{HeaderUpdate.ExecutionHeader.BlockHash}}").into(),
            transactions_root: hex!("{{HeaderUpdate.ExecutionHeader.TransactionRoot}}").into(),
            withdrawals_root: hex!("{{HeaderUpdate.ExecutionHeader.WithdrawalsRoot}}").into(),
        },
        execution_branch: vec![
        {{#HeaderUpdate.ExecutionBranch}}
            hex!("{{.}}").into(),
        {{/HeaderUpdate.ExecutionBranch}}
        ].try_into().expect("too many branch proof items"),
        sync_aggregate: SyncAggregate{
            sync_committee_bits: hex!("{{HeaderUpdate.SyncAggregate.SyncCommitteeBits}}").to_vec().try_into().expect("too many sync committee bits"),
            sync_committee_signature: hex!("{{HeaderUpdate.SyncAggregate.SyncCommitteeSignature}}").to_vec().try_into().expect("signature too long"),
        },
        signature_slot: {{HeaderUpdate.SignatureSlot}},
        block_root_branch: vec![
        {{#HeaderUpdate.BlockRootBranch}}
            hex!("{{.}}").into(),
        {{/HeaderUpdate.BlockRootBranch}}
        ].try_into().expect("too many branch proof items"),
        block_root_branch_header_root: hex!("{{HeaderUpdate.BlockRootBranchHeaderRoot}}").into(),
    };
}
